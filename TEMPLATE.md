# テーマファイルの作り方

各テーマのmdファイルは以下のフォーマットに従って作成する。

## ファイル構成

```
# {番号}. {テーマ名} - {サブタイトル}

## 🎯 このテーマで学ぶこと        ← 3項目程度の箇条書き

## 📖 なぜ{テーマ}を理解する必要があるのか
### こう書かないとどうなるか       ← 悪い例のコード

## 💡 コード例
### 基本: {基本のタイトル}         ← 動くコード例1つ目
### 実践: {実践のタイトル}         ← 動くコード例2つ目

## 🎯 演習問題                    ← 要件 + ヒント（骨格コード）

## ✅ 重要ポイント                ← チェックリスト形式
**次のテーマ:** [次のテーマへのリンク]
```

## 各セクションの書き方

### 🎯 このテーマで学ぶこと

- そのテーマで身につく具体的なスキルを3つ程度
- 技術用語は正確に、ただし簡潔に

```markdown
## 🎯 このテーマで学ぶこと

- 構造体（struct）の定義と初期化パターン
- コンストラクタ関数によるバリデーション付き初期化
- 構造体の埋め込み（embedding）によるコード再利用
```

### 📖 なぜ〜を理解する必要があるのか

**目的:** 「これを知らないとどう困るか」を先に見せて動機付けする。

- まず**日常の言葉で**そのテーマの役割を説明する
- 他の言語との対比があると理解しやすい（Java、Python等）
- `### こう書かないとどうなるか` で**悪い例のコード**を必ず入れる
- 必要に応じて補足の見出し（`###`）を追加してよい

```markdown
## 📖 なぜ構造体を理解する必要があるのか

Goにはクラスがありません。「じゃあデータと振る舞いをどうまとめるの？」
という疑問に対するGoの答えが**構造体**です。

### こう書かないとどうなるか

構造体を使わずに、バラバラの変数でユーザー情報を管理してみましょう：

（悪い例のコードブロック）

これでは〜という問題が起きます。構造体は〜を解決する仕組みです。
```

### 💡 コード例

**2段階構成**で書く（基本→実践）。3段階にしない。

| 段階 | 役割 | 内容 |
|---|---|---|
| 基本 | そのテーマの核心を学ぶ | 最小限の動くコード。定義・使い方の基本 |
| 実践 | 実務で使うパターンを学ぶ | 応用例。複数の概念を組み合わせる |

書き方のルール:

- **各コード例の前に「なぜこう書くのか」の説明文を入れる**（1-2文）
- コード内のコメントも「what」ではなく「why」を書く
- コードは**そのままコピーして動く**完全な状態にする（`package main`、`import`、`func main()`を含む）
- フロントエンドの場合は`function App()`を含む

```markdown
### 基本: 構造体の定義・初期化とコンストラクタ

なぜコンストラクタが必要なのか？　構造体リテラルで直接初期化すると、
不正な値でもそのまま作れてしまいます。コンストラクタでバリデーションを
挟むことで〜を保証できます。

（コードブロック）

### 実践: 構造体の埋め込み（embedding）

「複数の構造体に共通するフィールドがある」場合、〜の問題が起きます。
埋め込みを使えば〜できます。

（コードブロック）
```

### 🎯 演習問題

- **要件**を番号付きリストで明確に書く（5項目程度）
- **ヒント**として骨格コード（型定義や関数シグネチャ）を載せる
- 答えは書かない

```markdown
## 🎯 演習問題

ECサイトの商品管理を想定した構造体を設計してください。

**要件:**

1. `BaseModel`構造体: `ID int`, `CreatedAt time.Time`, `UpdatedAt time.Time`を持つ
2. `Product`構造体: `BaseModel`を埋め込み、`Name string`, `Price int`を持つ
3. `NewProduct`コンストラクタ: 名前が空、価格が0以下の場合にエラーを返す

**ヒント:**

（骨格コードブロック）
```

### ✅ 重要ポイント

- チェックリスト形式（`- [ ]`）で4項目程度
- そのテーマで最も大事なことを復習用にまとめる

```markdown
## ✅ 重要ポイント

- [ ] フィールド名の大文字/小文字で可視性が決まる
- [ ] コンストラクタ関数（`NewXxx`）で不正な状態を防ぐ
- [ ] 埋め込みは継承ではなくコンポジション（has-a関係）
- [ ] ゼロ値が有効な状態になるよう設計する

**次のテーマ:** [02. ポインタの基本](./02-pointer-basics.md)
```

## ファイル命名規則

```
{番号2桁}-{テーマ名のケバブケース}.md
```

例:
- `01-button-component.md`
- `08-errors-is-as.md`
- `12-io-reader-writer.md`

## 目安

- **20~30分で完結する**ボリュームに収める
- 1ファイル約150-200行
- コード例は各30-50行程度（長すぎると読まれない）
- 解説が長くなりそうなら、情報を削るのではなくコード内コメントに寄せる
